<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Click demo</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="css/hover.css" rel="stylesheet" type="text/css"/>

        <script src="js/libs/jquery/jquery.js" type="text/javascript"></script>
        <script>

            function doClickProgrammatically()
            {

                var jqueryClickItem = $("div#clickItem")
              //  var jqueryMenu = $("div#contextMenu")
                posx = jqueryClickItem.offset().left + jqueryClickItem.width() / 2;
                posy = jqueryClickItem.offset().top + (jqueryClickItem.height() / 4);
                //var divElement = document.querySelector("div#hoverItem");
                var elem = jqueryClickItem[0];
                if (document.createEvent) {
                    console.log("in createEvent [" + posx + "," + posy + "]")
                    var evObj = document.createEvent('MouseEvents');

                    evObj.initMouseEvent(
                            "click", //event type : click, mousedown, mouseup, mouseover, mousemove, mouseout.  
                            true, //canBubble
                            false, //cancelable
                            window, //event's AbstractView : should be window 
                            1, // detail : Event's mouse click count 
                            posx, // screenX
                            posy, // screenY
                            posx, // clientX
                            posy, // clientY
                            false, // ctrlKey
                            false, // altKey
                            false, // shiftKey
                            false, // metaKey 
                            0, // button : 0 = click, 1 = middle button, 2 = right button  
                            null // relatedTarget : Only used with some event types (e.g. mouseover and mouseout). In other cases, pass null.
                            );
                    elem.dispatchEvent(evObj);
                } else if (document.createEventObject) {

                    elem.fireEvent('click');
                }   

            }
            
            function divOnClick(e)
            {
                console.log("div click occurred: "+e)
            }

            $(document).ready(function () {


            });
        </script>
    </head>
    <body>
        <div>
            <p>Demonstrate programmatic click calls</p>
            <p><button onclick='doClickProgrammatically()'>Click Event</button></p>


            <div onClick="divOnClick(event)" id="clickItem">Click on this this</div>

        </div>
    </body>
</html>
